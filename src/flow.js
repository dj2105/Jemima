import { state } from "./state.js";
export function countdownThen(hashTarget){ const overlay=document.createElement("div"); overlay.className="overlay"; const h=document.createElement("div"); h.className="countdown"; overlay.appendChild(h); document.body.appendChild(overlay); let n=3; h.textContent=String(n); const t=setInterval(()=>{ n-=1; if(n<=0){ clearInterval(t); document.body.removeChild(overlay); location.hash=hashTarget; } else { h.textContent=String(n); } },1000); }
export function advanceToMarking(){ state.phase="marking"; location.hash=`#marking${state.currentRound}`; }
export function advanceToNextRoundOrFinal(){ const r=state.currentRound||1; if(r<5){ state.phase="interlude"; location.hash=`#interlude${r+1}`; } else { state.phase="final"; location.hash="#final"; } }
export function advanceFromInterludeToRound(round){ state.currentRound=round; state.phase="question"; location.hash=`#round${round}`; }